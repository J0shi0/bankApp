# Консольное банковское приложение

## Описание 

Приложение представляет из себя простою программу, которая берет вводную информацю от пользователя и
выполняет различные операции. В функционал приложения, доступный пользователю, выходит:
1. Создание аккаунта пользователя.
2. Ввод пароля для доступа к совершению других операций.
3. Операция пополнения счета для текущего пользователя.
4. Операция вывода средств со счета текущего пользователя.
5. Создания транзакции.
6. Операция вывода статистики ожидаемых пополнений, которые были созданны пользователем.
7. Операция применений ожидаемых транзакций к счету текущего пользователя, после которого ожидаемые транзакции пополнят 
счет текущего пользователя до выставленного лимита.
8. Операция фильтрации ожидамых транзакций, выводит возможные комбинации транзакций, которые в сумме будут больше,
заданного пользователем числа.
9. Создание переводов между существующими пользователями.
10. Выставление лимита для счета текущего пользователя, больше которого невозможно выполнить транзакцию.
11. Вывод баланса текущего пользователя на экран.
12. Операция смены аккаунта или входа в новый. При присутствии в сессии пользователя, произойдет смена на другого,
если таковой присутствует в системе. В случие отсутвия пользователя в сессии, будет произведен вход.
13. Выход из текущей сессии и зарешения программы.

## Файловая система

В данной программе организованна система файло. Текстовые файлы создаются во время исполнения некоторых функций, например,
`create_transactions(sender, sender_money, file_name)` для создания переводов между пользователями и в случаее не 
выполнения перевода создается файл `delayed_transactions.txt`, в который записываются данный, 
`save_acc(info, file_name, name=None)` для сохранения данных о пользователе.
## Функции

### `input_initials()`

#### Назначение

Инициализирует ввод Фамилии, Имени и Отчества пользователя через пробел и использую лишь символы руского и англиского 
алфавита.

#### Возврат

В случаее правильного набора возвращает ФИО пользователя. В случаее неправильного ввода три раза подряд - `None`.

### `input_birthyear()`

#### Назначение

Инициализирует ввод года рождения пользователя четырехзначным числом. Введеное число не должно быть больше текущего года.

#### Возврат

В случаее правильного набора возвращает год рождения пользователя. В обратном случаее - `None`.

### `input_password()`

#### Назначение

Инициализирует ввод пароля пользователя без пробелов.

#### Возврат

В случаее правильного набора возвращает пароль пользователя. В обратном случаее - `None`.

### `create_acc()`

#### Назначение

Функция инициализируется в основном теле программы и создает два словоря: с основными данными пользоватля,
с логином и паролем. Для заполения словорей вызывются функции `input_initials()`,`input_birthyear()` и `input_password()`.
Также используется функция для `password_hash()` для хэширования пароля.

#### Возврат

В случае правильного отробатывания предыдущих функций, `create_acc()` возвращает два словоря `info, acc_info` и
переменную `acc_val`.

### `password_check(password)`

#### Назначение

Просит пользовотеля ввести пароль и сравниевает `inputed_password` с приходяшей переменной `inputed_password`.

#### Возврат

Возвращает переменную `pass_val`, которая равна 1 или 0 в зависимости от выполнения равенсва.

### `add_money(money, limit)`

#### Назначение

Принимает на вход переменные `money, limit` и увеличивает или отказывает в пополнении в зависимости от второй переменной.

#### Возврат

Возвращает переменную `money`.

### `money_withdraw(money)`

#### Назначение

Принимает на вход переменную `money` и уменьшает или отказывает в изменении в зависимости от второй переменной.

#### Возврат

Возвращает переменную `money`.

### `add_transaction(transactions)`

#### Назначение

Принимает на вход словарь `transactions` и создает новую транзакую, которая включает в себя пару сумма-комменарий 
(`trans_sum`-`trans_comm`), введеные пользователем.

#### Возврат

Возвращает словарь `transactions`.

### `trans_stats(trans)`

#### Назначение

Принимает на вход словарь `trans` и создает новый словарь `stat` со значением суммы и количества повторений конкретной суммы.
После выводит все пары из словоря `stat` пользователю.

### `apply_trans(transac, money, limit)`

#### Назначение

Функция принимает на вход словарь `transac` и две переменные: `money, limit`. Из словаря берутся занчения и применяются
к переменной `money`. В случаее превышения переменной `money` переменной `limit`, изменений не происходит.

#### Возврат

Возвращает словарь `transac` и переменную `money`.

### `all_transactions(iterable, r)`

#### Назначение

Функия принимает список `itreable` и переменную `r`, которая определяет колличество элементов в комбинации и выводит все
возможные комбинации.

### `filtering_transactions(transactions)`

#### Назначение

Выводит все возможные комбинации словоря `transactions` для пользователя.

### `found_str_value(part, str_name, file_name)`

#### Назначение

Открывет файл, `f"{file_name + "_"}{part}.txt"`, на чтение.
Ищет строку с двумя элементами, разделенными `|` символом. Первый элемент должен быть равен переменной `str_name`.
Второй элемент строки присваиватся переменой `value`.

#### Возврат

Возрашает значение `value`.

### `overwrite_string_value(part, str_name, file_name, new_value)`

#### Назначение

Открывет файл, `f"{file_name + "_"}{part}.txt"`, на чтение и сохраняет строки в список `lines`.
После, каждую строку из `lines` проверяет на наличие слова равному `str_name`. Если элемент равен `str_name`, то записывается новая 
строка с новым второым элементом равным `new_value`. Если - нет, то перезаписывает строку из `lines`.

### `create_transactions(sender, sender_money, file_name)`

#### Назначение

Создает новый перевод между пользователями. В качестве отправителя берется пользователь текущей сессии (`sender`), 
его средства `sender_money`.
С помощью `found_str_value()` и `overwrite_string_value()` осуществяется поиск и замена данных о средствах получателя и 
отправителя. В случае невозможности исполнения переовда создается запись в новый файл `delayed_transactions.txt` в форме
`{sender}|{recipient}|{transaction_amount}`.

#### Возврат

Возрашает значение `sender_money - transaction_amount`, если опирация создана. Eсли - нет,возращает `sender_money`.

### `print_balance(money)`

#### Назначение

Выводит баланс пользователя в консоль через `print()`.

### `set_limit()`

#### Назначение

Задает новый лимит для аккаунта пользователя.

#### Возврат

Возрашает значение `limit`.

### `save_acc(info, file_name, name=None)`

#### Назначение

Сохраняет информация об аккунте в файл.

`info`: Словарь, содержащий информацию об учетной записи.
`file_name`: Имя файла, в который сохраняется информация.
`name`: Имя пользователя, информация о котором сохраняется.

### `upload_acc(name, file_name)`

#### Назначение

Загружает информацию об учетной записи из файла.

#### Аргументы:

`name`: Имя пользователя, информация о котором загружается.
`file_name`: Имя файла, из которого загружается информация.

#### Возвращается

Словарь, содержащий информацию об учетной записи.

### `delete_line(file_path, line_number)`

#### Назначение

Удаляет линию из файла

#### Аргументы

`file_path`: Путь к файлу.
`line_number`: Номер линии, которую надо удалить.

### `delayed_transaction_execution(money, name=None)`

#### Назначение

Выпольнянт отложенную транзакцию.

#### Args
money: Колличество денег для перевода.
name: Имя пользователя.

#### Возвращается

Возвращает текущий баланс пользователя.

